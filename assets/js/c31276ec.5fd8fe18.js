"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1053],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>u});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=d(a),m=r,u=p["".concat(s,".").concat(m)]||p[m]||h[m]||o;return a?n.createElement(u,i(i({ref:t},c),{},{components:a})):n.createElement(u,i({ref:t},c))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:r,i[1]=l;for(var d=2;d<o;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},6685:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var n=a(7462),r=(a(7294),a(3905));const o={sidebar_class_name:"hidden"},i="Test using Playwright in Mendix",l={unversionedId:"design-tests/playwright-frontend-test",id:"design-tests/playwright-frontend-test",title:"Test using Playwright in Mendix",description:"This section describes how to create a frontend test using Playwright, in Mendix.",source:"@site/additional/01-howtos/03-design-tests/playwright-frontend-test.md",sourceDirName:"03-design-tests",slug:"/design-tests/playwright-frontend-test",permalink:"/additional/howtos/design-tests/playwright-frontend-test",draft:!1,tags:[],version:"current",frontMatter:{sidebar_class_name:"hidden"},sidebar:"tutorialSidebar",previous:{title:"Know when to adapt to next revision",permalink:"/additional/howtos/design-tests/know-when-to-adapt-revision"},next:{title:"Run your first test in MTA",permalink:"/additional/howtos/run-tests/run-first-test"}},s={},d=[{value:"Connector Module",id:"connector-module",level:2},{value:"Starter Kit",id:"starter-kit",level:2},{value:"Get started",id:"get-started",level:2},{value:"Example App",id:"example-app",level:2},{value:"Playwright Test Structure",id:"playwright-test-structure",level:2},{value:"Setup (local testing)",id:"setup-local-testing",level:3},{value:"Setup (using Browserstack)",id:"setup-using-browserstack",level:3},{value:"Locators and Actions",id:"locators-and-actions",level:3},{value:"Generic App testing",id:"generic-app-testing",level:4},{value:"Mendix App testing",id:"mendix-app-testing",level:4},{value:"Teardown",id:"teardown",level:3},{value:"Feedback?",id:"feedback",level:2}],c={toc:d},p="wrapper";function h(e){let{components:t,...a}=e;return(0,r.kt)(p,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"test-using-playwright-in-mendix"},"Test using Playwright in Mendix"),(0,r.kt)("p",null,"This section describes how to create a frontend test using Playwright, in Mendix.\nPlaywright is a library with which you can locate elements on a web page and execute actions on these elements.\nSee ",(0,r.kt)("a",{parentName:"p",href:"https://playwright.dev/java/"},"https://playwright.dev/java/")," for the relevant Playwright documentation."),(0,r.kt)("p",null,"Menditect has created 2 modules that enable MTA customers to build frontend tests using Playwright."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The Menditect Playwright Connector module: ",(0,r.kt)("a",{parentName:"li",href:"https://marketplace.mendix.com/link/component/235323"},"https://marketplace.mendix.com/link/component/235323")),(0,r.kt)("li",{parentName:"ul"},"The Menditect Playwright Starter Kit module: ",(0,r.kt)("a",{parentName:"li",href:"https://marketplace.mendix.com/link/component/235327"},"https://marketplace.mendix.com/link/component/235327"))),(0,r.kt)("h2",{id:"connector-module"},"Connector Module"),(0,r.kt)("p",null,"The Connector Module enables the use of Playwright to define and run a frontend test from any Mendix App.\nThe Playwright Locators and Actions defined in the Connector Module can then be used to test ",(0,r.kt)("em",{parentName:"p"},"any")," webapplication, not just Mendix Apps.\nLocator and Action microflows in the Connector Module can be defined and executed from MTA."),(0,r.kt)("h2",{id:"starter-kit"},"Starter Kit"),(0,r.kt)("p",null,"The Starter Kit is meant for using the Connector module for Mendix apps. This starter kit contains"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A reusable Locator and Action microflows to test standard Mendix Widgets"),(0,r.kt)("li",{parentName:"ul"},"An example Mendix Project with an example Playwright testscript"),(0,r.kt)("li",{parentName:"ul"},"A Page showing Test Results with Screenshots, Trace files & Aria Snapshots")),(0,r.kt)("p",null,"A few notes about the Starter Kit:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The Starter Kit assumes that the default texts for elements is used as defined in a US-English Mendix project. Other languages are not (yet) supported."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.mendix.com/refguide/mendix-client/react/"},"React-enabled projects")," can be tested by setting the Constant IsUsingReactClient to True."),(0,r.kt)("li",{parentName:"ul"},"Although more Widgets will be added to the Starter Kit to test with Playwright, any changes made in the future can break Locating a Widget correctly.")),(0,r.kt)("h2",{id:"get-started"},"Get started"),(0,r.kt)("p",null,"It is not necessary to import the modules in the same Mendix App as the one under test. However for this example, this is assumed to be the case."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Start by importing the Connector module. This module requires the playwright driver bundle jar file in your userlib directory.\nSee the documentation in the Mendix Marketplace on how to download this jar file."),(0,r.kt)("li",{parentName:"ul"},"Download the Starter Kit module to start testing the most common Mendix Widgets in Playwright."),(0,r.kt)("li",{parentName:"ul"},"Add both the Module Roles to the project's User Roles."),(0,r.kt)("li",{parentName:"ul"},"Add the MenditectPlaywrightStarterKit.TestResultFiles page to the Navigation for the User Role that will be evaluating executed Playwright Tests."),(0,r.kt)("li",{parentName:"ul"},"Optionally add the MenditectPlaywrightStarterKit.Overview page to the Navigation if you want to see Playwright in action on some example pages. This is ",(0,r.kt)("strong",{parentName:"li"},"recommended")," for first-time users.")),(0,r.kt)("h2",{id:"example-app"},"Example App"),(0,r.kt)("p",null,'The Example App was created to show how to Locate most of the standard Mendix Widgets and execute Actions like Click, Fill Text or Select Option.\nIt contains an Overview page and two popup pages that combined contain these commonly used Widgets.\nThe "ACT_Playwright_Full_Test" microflow is an example microflow that tests these Pages with Playwright using the Connector.\nThis microflow can be executed from MTA if the App is running locally from Studio Pro. '),(0,r.kt)("p",null,"Instead of using a single microflow calling the Locators and Actions, it is ",(0,r.kt)("strong",{parentName:"p"},"recommended")," to use ",(0,r.kt)("a",{parentName:"p",href:"../../../Teststep"},"Teststeps")," in MTA, instead. "),(0,r.kt)("h2",{id:"playwright-test-structure"},"Playwright Test Structure"),(0,r.kt)("p",null,'As can be seen in the example "ACT_Playwright_Full_Test" microflow in the Starter Kit, each Playwright Test has the same basic structure:'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Setup"),(0,r.kt)("li",{parentName:"ul"},"Locators and Actions"),(0,r.kt)("li",{parentName:"ul"},"Teardown")),(0,r.kt)("h3",{id:"setup-local-testing"},"Setup (local testing)"),(0,r.kt)("p",null,"These microflows are called in order to setup a locally executed Playwright test:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Microflow"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Explanation"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Start_Playwright_Test"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Initiates a new Playwright Test with the given name.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Create_Browser"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Creates a browser of the specified type. To run the test in background, set Headless to True. SlowMo sets the waiting time in milliseconds between each Action.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Create_BrowserContext"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Used to define Browser attributes. Create and associate a ViewportSize object to set the Browser window Width and Height in pixels.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Create_Page"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Creates a new Page in the Browser.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Start_Tracing"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"Optionally"),": enables the use of Screenshots, Snapshots and Tracefiles for a test.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Navigate"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Use to navigate to the homepage of your App.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Mx_Login"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"Optionally"),": use to login to your App with specified Username and Password. Works on a non-customized Mendix Login Page.")))),(0,r.kt)("h3",{id:"setup-using-browserstack"},"Setup (using Browserstack)"),(0,r.kt)("p",null,'To use Browserstack instead of running Playwright on a local machine, replace the call to the "Create_Browser" microflow, with a call to the "Connect_BrowserStack" microflow.'),(0,r.kt)("h3",{id:"locators-and-actions"},"Locators and Actions"),(0,r.kt)("h4",{id:"generic-app-testing"},"Generic App testing"),(0,r.kt)("p",null,"For each element on the browser page to perform an action on, the basic Playwright structure is to use at least two microflows; a Locator microflow and an Action microflow."),(0,r.kt)("p",null,"Chech out the Playwright documentation for ",(0,r.kt)("a",{parentName:"p",href:"https://playwright.dev/java/docs/locators"},"Locators")," and ",(0,r.kt)("a",{parentName:"p",href:"https://playwright.dev/java/docs/input"},"Actions"),"."),(0,r.kt)("p",null,'In the Connector Module, Locator microflows are inside the "Microflows/Commands" folder. The "Get_Locator_By_Page" folder contains Locators that have the complete Browser Page as scope to locate any HTML element. The "Get_Locator_By_Locator" folder contains the same Locators, but using another Locator that narrows the scope within to locate the HTML element.  Another way to narrow down the list is using the microflows inside the "Locator_Element_Operations" folder, containing ',(0,r.kt)("a",{parentName:"p",href:"https://playwright.dev/java/docs/locators#filtering-locators"},"Filters")," and ",(0,r.kt)("a",{parentName:"p",href:"https://playwright.dev/java/docs/other-locators#n-th-element-locator"},"Nth element locators"),'. In order to use XPath or CSS Locators, use the "...Get_By_Selector" microflows. '),(0,r.kt)("p",null,'Locator Actions are in the "Locator_Actions" folder. Note that some Actions will wait for the element to become visible, others (like "Locator_Element_Count") will be executed immediately. If it is required to wait, it is recommended to use the "Delay after execution" property on the ',(0,r.kt)("a",{parentName:"p",href:"https://documentation.menditect.com/Teststep#properties"},"Teststep in MTA")," that calls the Locator Action microflow."),(0,r.kt)("h4",{id:"mendix-app-testing"},"Mendix App testing"),(0,r.kt)("p",null,"In order to test Mendix Widgets, use the microflows from the Starter Kit. In the Example_App folder, each Page has their own subfolder. A Page is accompanied by one Enumeration, that contains the names of the Widgets inside that Page. Note that the names have been changed to better reflect what the Widget represents. Also, a Page is accompanied by one Microflow, having this structure: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"input parameters to identify the Widget to Locate. "),(0,r.kt)("li",{parentName:"ul"},"a String variable representing the Module name."),(0,r.kt)("li",{parentName:"ul"},"a String variable representing the Page class."),(0,r.kt)("li",{parentName:"ul"},'a microflow call to "Locate_MxWidget".')),(0,r.kt)("p",null,"The above structure can be duplicated for any Mendix Page."),(0,r.kt)("p",null,"A Mendix Page is not the same scope as a page in the Browser, but Mendix Pages can be on top of each other (Popups over Responsive pages). Therefore, it is ",(0,r.kt)("strong",{parentName:"p"},"recommended"),' to always use the Locator microflows inside the "Get_Locator_By_Locator" folder, to narrow the scope to only one Mendix Page. In order to identify a Mendix Page, it is necessary to fill in the Page class on the Mendix Page in Studio Pro. Recommended is using the same Class name as the Page name.'),(0,r.kt)("p",null,'The "Locate_MxWidget" microflow then defines the scope of the Mendix Page, and then calls the "Locate_MxWidget_in_Locator" microflow, where a different strategy is used to locate the Widget depending on the type.'),(0,r.kt)("p",null,'Actions can be found in the "WidgetActions" folder. The "Generic" subfolder contains Actions that don\'t require a Locator. The "Specific" subfolder contains Actions that can be performed on the respective Mendix Widget, and take a Locator as an input parameter. '),(0,r.kt)("h3",{id:"teardown"},"Teardown"),(0,r.kt)("p",null,"These microflows are called at the end of a Playwright test:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Microflow"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Explanation"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Mx_Logout"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"Optionally"),": locates the Logout button and clicks on it.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Stop_Tracing"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("em",{parentName:"td"},"Optionally"),": saves the recorded trace files.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Stop_Playwright_Test"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Ends the Playwright test.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Teardown_Playwright"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Removes the Playwright engine from memory.")))),(0,r.kt)("h2",{id:"feedback"},"Feedback?"),(0,r.kt)("p",null,"Missing anything? ",(0,r.kt)("a",{parentName:"p",href:"mailto:support@menditect.com"},"Let us know!")),(0,r.kt)("p",null,"Last updated 20 December 2024"))}h.isMDXComponent=!0}}]);