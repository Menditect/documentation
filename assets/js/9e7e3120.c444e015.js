"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7257],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=s(n),c=r,k=u["".concat(p,".").concat(c)]||u[c]||m[c]||i;return n?a.createElement(k,l(l({ref:t},d),{},{components:n})):a.createElement(k,l({ref:t},d))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[u]="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4639:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:6},l="Run your own MTA deployment",o={unversionedId:"configure-mta/run-mta-on-premise",id:"configure-mta/run-mta-on-premise",title:"Run your own MTA deployment",description:"Purpose",source:"@site/additional/01-howtos/02-configure-mta/run-mta-on-premise.md",sourceDirName:"02-configure-mta",slug:"/configure-mta/run-mta-on-premise",permalink:"/additional/howtos/configure-mta/run-mta-on-premise",draft:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Configure MTA to use SAML SSO",permalink:"/additional/howtos/configure-mta/configure-mta-saml"},next:{title:"Generate a test",permalink:"/additional/howtos/design-tests/generate-test"}},p={},s=[{value:"Purpose",id:"purpose",level:2},{value:"Configuring a new MTA implementation",id:"configuring-a-new-mta-implementation",level:2},{value:"Actions",id:"actions",level:3},{value:"SAML SSO",id:"saml-sso",level:4},{value:"Scheduled events",id:"scheduled-events",level:4},{value:"Firewall and network settings",id:"firewall-and-network-settings",level:4},{value:"Upgrading an existing MTA implementation",id:"upgrading-an-existing-mta-implementation",level:2},{value:"MTA actions",id:"mta-actions",level:3},{value:"Test application actions",id:"test-application-actions",level:3},{value:"Feedback?",id:"feedback",level:2}],d={toc:s},u="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"run-your-own-mta-deployment"},"Run your own MTA deployment"),(0,r.kt)("h2",{id:"purpose"},"Purpose"),(0,r.kt)("p",null,"This document describes the MTA implementation steps for customers that bring their own Mendix license and environment, either local or cloud hosted."),(0,r.kt)("p",null,"This could be any custom cloud environment like a Cloud Foundry or Kubernetes Pod, or an on-premise installation. The main difference with Menditect hosting MTA on the Mendix cloud is that the client is responsible for managing the cloud platform."),(0,r.kt)("p",null,"To host MTA, both Mendix Operator and Runtime license are required. See ",(0,r.kt)("a",{parentName:"p",href:"https://docs.mendix.com/developerportal/deploy/private-cloud/#request-both-operator-and-runtime-license"},"https://docs.mendix.com/developerportal/deploy/private-cloud/#request-both-operator-and-runtime-license"),"."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"When installing MTA for the first time, always clean up your existing environment first (both the database and the Mendix model).")),(0,r.kt)("h2",{id:"configuring-a-new-mta-implementation"},"Configuring a new MTA implementation"),(0,r.kt)("p",null,"Required for hosting MTA in the Mendix Cloud is an ",(0,r.kt)("strong",{parentName:"p"},"M21-STANDARD")," cloud resource pack, see ",(0,r.kt)("a",{parentName:"p",href:"https://docs.mendix.com/developerportal/deploy/mendix-cloud-deploy/#resource-pack"},"Mendix Cloud Container resources"),"."),(0,r.kt)("p",null,"For any cloud provider, you need to assign ",(0,r.kt)("strong",{parentName:"p"},"at least 4 GB of RAM for the App, 4 GB of RAM for the Database, and 1 CPU core"),"."),(0,r.kt)("p",null,"Assigning fewer resources will increase the chance of spontaneous App restarts due to long-running processes consuming a lot of CPU/RAM."),(0,r.kt)("h3",{id:"actions"},"Actions"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You will receive information on how to download the MDA file that you need to set up MTA."),(0,r.kt)("li",{parentName:"ul"},"Deploy and transport it to the environment in your cloud. "),(0,r.kt)("li",{parentName:"ul"},"Check the value of the following environment variables (Constants) for the MTA application:")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Environment variable"),(0,r.kt)("th",{parentName:"tr",align:null},"value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ApiMendixModule.WebsocketStage"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"production"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EgalitConfigModule.EsaMultiInstanceMode"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"False"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MtaDataValidationModule.RunIntervalNrOfDaysBeforeSysdate"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"5"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MtaUtils.DeleteObjectBatchSize"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"500"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MtaUtils.DeploymentType"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"On-Premises"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MtaUtils.InternalToken"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"(empty)"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MtaUtils.NodeRevision"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MtaUtils.ScheduledEventsOffsetUTC"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"(offset from UTC, in whole hours, for scheduled events to run)"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MtaUtils.UrlBaseDocumentation"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"https://documentation.menditect.com"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MtaUtils.UrlSupportForm"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"https://share.hsforms.com/1x-oVL39kRTGw-b3CQ9im8g3twri"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"MtaUtils.UrlVideoInstructional"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"https://menditect.com/demos/mta-movies.html"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"TestconfigurationModule.TCNF_DaysRemainAfterFlaggedForDeleteDate"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"20"))))),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"You may notice that MTA also contains environment variables from the MTA Plugin Module. This is because Menditect regression-tests MTA with MTA.\nOn the MTA Application itself, ",(0,r.kt)("strong",{parentName:"p"},"do not")," change these values.")),(0,r.kt)("h4",{id:"saml-sso"},"SAML SSO"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If MTA will be ",(0,r.kt)("a",{parentName:"li",href:"configure-mta-saml"},"configured to use SAML SSO"),", additionally set these values (otherwise, use the default value):")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Environment variable"),(0,r.kt)("th",{parentName:"tr",align:null},"value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DeepLink.EnableLeadingSlash"),(0,r.kt)("td",{parentName:"tr",align:null},"False")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DeepLink.IndexPage"),(0,r.kt)("td",{parentName:"tr",align:null},"index.html")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DeepLink.LoginLocation"),(0,r.kt)("td",{parentName:"tr",align:null},"/SSO/login?f=true&cont=")))),(0,r.kt)("h4",{id:"scheduled-events"},"Scheduled events"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Toggle ALL scheduled events to ",(0,r.kt)("inlineCode",{parentName:"li"},"Enabled=True"))),(0,r.kt)("h4",{id:"firewall-and-network-settings"},"Firewall and network settings"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Below steps are important and MTA will not work if these steps are skipped.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Make sure that any firewalls applicable have whitelisted these URLs, on ports 80 and 443:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"*.mendix.com/*\n*.sprintr.com/*\nmtasdkapi-ws.menditect.com/*\nhsforms.com/*\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Make sure the /rest path allows all access (in Mendix: Environment details -> Network -> Path Based Access Restrictions and set the path /rest/ on allow access).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Make sure the /rest-doc path denies all access (in Mendix: Environment details -> Network -> Path Based Access Restrictions and set the path /rest-doc/ on deny all access).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Start the MTA application.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Change the MxAdmin password of the environment to your own MxAdmin password.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Create a database backup.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"DONE!"))),(0,r.kt)("h2",{id:"upgrading-an-existing-mta-implementation"},"Upgrading an existing MTA implementation"),(0,r.kt)("h3",{id:"mta-actions"},"MTA actions"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create a full backup of your MTA database and file storage."),(0,r.kt)("li",{parentName:"ul"},"Stop the MTA Application."),(0,r.kt)("li",{parentName:"ul"},"Deploy the provided MDA file."),(0,r.kt)("li",{parentName:"ul"},"Check all the values of the Constants for the Mendix model (see above)."),(0,r.kt)("li",{parentName:"ul"},"Verify that all Scheduled Events are Enabled."),(0,r.kt)("li",{parentName:"ul"},"Start the MTA Application."),(0,r.kt)("li",{parentName:"ul"},"Restart Test Applications Instances, or use the ",(0,r.kt)("a",{parentName:"li",href:"../connect-mta/import-plugin#configuring-plugin-home-page"},"Plugin Home Page")," to ensure they are connected to MTA."),(0,r.kt)("li",{parentName:"ul"},"Login to MTA as Tester."),(0,r.kt)("li",{parentName:"ul"},"Wait until the migration process is done. If the migration fails, contact Menditect support (",(0,r.kt)("a",{parentName:"li",href:"mailto:support@menditect.com"},"support@menditect.com"),")."),(0,r.kt)("li",{parentName:"ul"},"Check if the test configurations can be executed."),(0,r.kt)("li",{parentName:"ul"},"Logout.")),(0,r.kt)("h3",{id:"test-application-actions"},"Test application actions"),(0,r.kt)("p",null,"After updating MTA, make sure that all the test applications have the newest version of the MTA Plugin module installed. "),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../connect-mta/import-plugin"},"Read how to import and configure the Plugin here")),(0,r.kt)("h2",{id:"feedback"},"Feedback?"),(0,r.kt)("p",null,"Missing anything? ",(0,r.kt)("a",{parentName:"p",href:"mailto:support@menditect.com"},"Let us know!")),(0,r.kt)("p",null,"Last updated 13 June 2025"))}m.isMDXComponent=!0}}]);