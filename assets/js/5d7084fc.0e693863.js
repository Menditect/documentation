"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1674],{3905:(e,t,r)=>{r.d(t,{Zo:()=>h,kt:()=>m});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},h=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,h=l(e,["components","mdxType","originalType","parentName"]),c=p(r),u=o,m=c["".concat(s,".").concat(u)]||c[u]||d[u]||i;return r?n.createElement(m,a(a({ref:t},h),{},{components:r})):n.createElement(m,a({ref:t},h))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,a[1]=l;for(var p=2;p<i;p++)a[p]=r[p];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},1033:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var n=r(7462),o=(r(7294),r(3905));const i={sidebar_position:3},a="Install Playwright Browser",l={unversionedId:"install-playwright-browser",id:"install-playwright-browser",title:"Install Playwright Browser",description:"Purpose",source:"@site/additional/00-installation/install-playwright-browser.md",sourceDirName:".",slug:"/install-playwright-browser",permalink:"/additional/installation/install-playwright-browser",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Install MTA Plugin",permalink:"/additional/installation/import-plugin"}},s={},p=[{value:"Purpose",id:"purpose",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Run Playwright Locally",id:"run-playwright-locally",level:2},{value:"Run Playwright in Azure Workspaces",id:"run-playwright-in-azure-workspaces",level:2},{value:"Run Playwright in Browserstack",id:"run-playwright-in-browserstack",level:2},{value:"Run Playwright in a Docker container",id:"run-playwright-in-a-docker-container",level:2},{value:"Feedback?",id:"feedback",level:2}],h={toc:p},c="wrapper";function d(e){let{components:t,...r}=e;return(0,o.kt)(c,(0,n.Z)({},h,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"install-playwright-browser"},"Install Playwright Browser"),(0,o.kt)("h2",{id:"purpose"},"Purpose"),(0,o.kt)("p",null,"This document describes the options to host a ",(0,o.kt)("a",{parentName:"p",href:"https://playwright.dev/java/docs/browsers"},"Playwright Browser"),", which is required to run a ",(0,o.kt)("a",{parentName:"p",href:"../../mta/frontend-test"},"Frontend Test")," with MTA."),(0,o.kt)("p",null,"When executing a Frontend test, Playwright starts and hosts its own Browser. This can be Chromium, Firefox or Webkit. In order to do this, Playwright needs to load required dependencies and, therefore, it needs the right permissions on the host server. "),(0,o.kt)("p",null,"Currently, there are 3 supported options to host a Playwright Browser:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"From within the Mendix project (local only)"),(0,o.kt)("li",{parentName:"ol"},"From BrowserStack (cloud only)"),(0,o.kt)("li",{parentName:"ol"},"From a Docker Container (cloud or local)")),(0,o.kt)("admonition",{title:"Mendix Cloud",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Option 1 is only available for a local machine, because Mendix does not allow for third party frameworks, like Playwright, to load its own dependencies. It is required to host the Playwright Browser elsewhere in the cloud when running the Mendix App in the cloud.")),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Make sure that the ",(0,o.kt)("a",{parentName:"li",href:"../../../tools/mta-plugin"},"MTA Plugin")," module is ",(0,o.kt)("a",{parentName:"li",href:"import-plugin"},"imported and configured"),"."),(0,o.kt)("li",{parentName:"ul"},"Download the driver-bundle jar file that is required to run Playwright. Currently, the required version is 1.53.0: ",(0,o.kt)("a",{parentName:"li",href:"https://repo1.maven.org/maven2/com/microsoft/playwright/driver-bundle/1.53.0/driver-bundle-1.53.0.jar"},"https://repo1.maven.org/maven2/com/microsoft/playwright/driver-bundle/1.53.0/driver-bundle-1.53.0.jar")),(0,o.kt)("li",{parentName:"ul"},"Move this jar file into your /userlib directory of the Mendix project."),(0,o.kt)("li",{parentName:"ul"},"Start by importing the ",(0,o.kt)("a",{parentName:"li",href:"../../../tools/playwright-connector"},"Playwright Connector"),"."),(0,o.kt)("li",{parentName:"ul"},"Then import the ",(0,o.kt)("a",{parentName:"li",href:"../../../tools/playwright-testkit"},"Frontend Test Kit")," to start testing the most common Mendix Widgets. "),(0,o.kt)("li",{parentName:"ul"},"Add both the Module Roles to the project's User Role(s) that will be used to execute Frontend Tests.")),(0,o.kt)("h2",{id:"run-playwright-locally"},"Run Playwright Locally"),(0,o.kt)("p",null,"Playwright can be hosted locally with the Mendix App running in Studio Pro (e.g. localhost). "),(0,o.kt)("admonition",{title:"reboot needed",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"It may be necessary to restart your computer if you want to use a locally-hosted Playwright Browser for the first time.")),(0,o.kt)("admonition",{title:"local admin rights",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If you do not have local admin rights on your machine, you may run into errors when running Playwright locally.")),(0,o.kt)("p",null,"If this jar file is added to the Mendix project and the app is deployed to a local server that allows Playwright to load the dependencies it needs, this is sufficient for executing the Test Cases. Separate hosting of the Playwright browsers is not needed then. However, if the jar-file is not added and/or the local server is also limited in the access it requires for Playwright to load its dependencies, it is needed to host a Playwright server elsewhere. "),(0,o.kt)("h2",{id:"run-playwright-in-azure-workspaces"},"Run Playwright in Azure Workspaces"),(0,o.kt)("p",null,"You can watch this video to view the configuration steps for Azure."),(0,o.kt)("iframe",{src:"https://player.vimeo.com/video/1169494973",width:"640",height:"400",frameborder:"0",allow:"autoplay; fullscreen",allowfullscreen:!0}),(0,o.kt)("h2",{id:"run-playwright-in-browserstack"},"Run Playwright in Browserstack"),(0,o.kt)("p",null,"One alternative option to hosting Playwright locally is to use Browserstack. BrowserStack is a cloud-based testing platform that enables developers and QA teams to test applications across various browsers and devices. It offers native support for Playwright, allowing users to run automated end-to-end tests on real devices and browsers within its cloud infrastructure. "),(0,o.kt)("p",null,"Currently, using Browserstack is only supported if the Mendix App is running in the cloud.\nLocal Testing is currently only supported if Playwright is also running locally.\n",(0,o.kt)("a",{parentName:"p",href:"https://www.browserstack.com/docs/local-testing"},"Local Testing with Browserstack")," will be supported in a future release of the Playwright Connector."),(0,o.kt)("p",null,"Read ",(0,o.kt)("a",{parentName:"p",href:"../../mta/frontend-test#browserstack-option"},"Frontend test")," in the Reference Guide to learn how to configure the generated Teststeps in MTA."),(0,o.kt)("h2",{id:"run-playwright-in-a-docker-container"},"Run Playwright in a Docker container"),(0,o.kt)("p",null,"This chapter describes the situation where the Test Application is started from Studio Pro, and Docker Desktop is running on the same machine. When running the Test Application in the cloud, the URL in the Navigate action in step 19 will be replaced by the Application URL in the cloud. When running Docker in the cloud, omit the steps to install Docker Desktop, and replace the command in step 9 by the one noted in ",(0,o.kt)("a",{parentName:"p",href:"https://playwright.dev/docs/docker#running-the-playwright-server"},"https://playwright.dev/docs/docker#running-the-playwright-server"),"."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Install Docker Desktop ",(0,o.kt)("a",{parentName:"li",href:"https://www.docker.com/products/docker-desktop/"},"https://www.docker.com/products/docker-desktop/"),"."),(0,o.kt)("li",{parentName:"ol"},"Although not always required by Docker, restart Windows."),(0,o.kt)("li",{parentName:"ol"},"Start Studio Pro that will run the Test Application and connect to MTA. "),(0,o.kt)("li",{parentName:"ol"},"Make sure the Connector and Mendix Frontend Testkit are imported."),(0,o.kt)("li",{parentName:"ol"},"Check the playwright version that is being used by the Connector.\nThis should be noted in the documentation in the Mendix Marketplace."),(0,o.kt)("li",{parentName:"ol"},"Run the Test Application. Check MTA to see if it's connected."),(0,o.kt)("li",{parentName:"ol"},"Run Docker Desktop. No need to sign-in, just click Skip."),(0,o.kt)("li",{parentName:"ol"},"Run a command line prompt (cmd)."),(0,o.kt)("li",{parentName:"ol"},"Copy the command line noted here into a text editor (use the copy button): ",(0,o.kt)("a",{parentName:"li",href:"https://playwright.dev/docs/docker#network-configuration"},"https://playwright.dev/docs/docker#network-configuration"),"."),(0,o.kt)("li",{parentName:"ol"},"Replace the two parts where the playwright version is denoted, by the playwright version in use by the Connector. Example:",(0,o.kt)("br",null),(0,o.kt)("inlineCode",{parentName:"li"},'docker run --add-host=hostmachine:host-gateway -p 3000:3000 --rm --init -it --workdir /home/pwuser --user pwuser mcr.microsoft.com/playwright:v1.53.0-noble /bin/sh -c "npx -y playwright@1.53.0 run-server --port 3000 --host 0.0.0.0"')),(0,o.kt)("li",{parentName:"ol"},"Copy and paste the command line in the prompt and press Enter.",(0,o.kt)("br",null),"This will do three things:",(0,o.kt)("br",null),"1. download the docker image containing the playwright server",(0,o.kt)("br",null),"2. run this image in a virtualized Docker container",(0,o.kt)("br",null),"3. make sure that the hostmachine can be reached from the container."),(0,o.kt)("li",{parentName:"ol"},"Wait until it says ",(0,o.kt)("inlineCode",{parentName:"li"},"Listening on ws://0.0.0.0:3000/")," in the prompt."),(0,o.kt)("li",{parentName:"ol"},"To shutdown the locally running docker container simply press Ctrl+C in the prompt.")),(0,o.kt)("admonition",{title:"Important note",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"You cannot navigate to ",(0,o.kt)("inlineCode",{parentName:"p"},"localhost"),", because the localhost will point to inside the virtualized container. You have to navigate to http://hostmachine:8080 (assuming the Test Application is running on port 8080). This will only work if you correctly executed step 10.")),(0,o.kt)("h2",{id:"feedback"},"Feedback?"),(0,o.kt)("p",null,"Missing anything? ",(0,o.kt)("a",{parentName:"p",href:"mailto:support@menditect.com"},"Let us know!")),(0,o.kt)("p",null,"Last updated 15 September 2025"))}d.isMDXComponent=!0}}]);